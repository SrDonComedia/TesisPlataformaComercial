{"version":3,"sources":["./src/app/commons/services/aerc-services/notificacion.service.ts","./src/app/paginas/aerc-solicitudes/admin-aerc/admin-notificaciones/admin-notificaciones.component.ts","./src/app/paginas/aerc-solicitudes/admin-aerc/admin-notificaciones/admin-notificaciones-routing.module.ts","./src/app/paginas/aerc-solicitudes/admin-aerc/admin-notificaciones/admin-notificaciones.module.ts","./src/app/commons/models/aerc-models/notificacion-aerc.model.ts","./src/app/paginas/aerc-solicitudes/admin-aerc/admin-notificaciones/admin-notificaciones.component.html"],"names":[],"mappings":"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","file":"paginas-aerc-solicitudes-admin-aerc-admin-notificaciones-admin-notificaciones-module-ngfactory.js","sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { SolicitudDetalleRespuestas } from '../../interfaces/aerc-interfaces/solicitud-detalle.interface';\nimport { DocumentosModel } from '../../models/aerc-models/documentos-model';\nimport { SolicitudModel } from '../../models/aerc-models/solicitud-model';\nimport { NotificacionCausalModel } from '../../models/aerc-models/notificacion-aerc.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificacionService {\n\n  constructor(\n    private http: HttpClient,\n  ) { }\n\n  public cargarArchivoAlumnos(fileUpload: FormData): Observable<{ correo: string, nombre: string }[]> {\n    return this.http.post<{ correo: string, nombre: string }[]>(`${environment.backend.aerc}notificacion/excel`, fileUpload);\n  }\n\n  public enviarCorreoMasivoPersonalizado(notificacion: NotificacionCausalModel): Observable<string>{\n    return this.http.post<string>(`${environment.backend.aerc}notificacion/masivo-personalizado`, notificacion);\n  }\n\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NotificacionService } from '../../../../commons/services/aerc-services/notificacion.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { BlockUI, NgBlockUI } from 'ng-block-ui';\nimport { ToastrService } from 'ngx-toastr';\nimport { MatPaginator, MatPaginatorIntl } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { NotificacionCausalModel } from '../../../../commons/models/aerc-models/notificacion-aerc.model';\nimport { UtilAlert } from 'src/app/commons/util/util.alert';\n\n@Component({\n  selector: 'app-admin-notificaciones',\n  templateUrl: './admin-notificaciones.component.html',\n  styles: [\n  ]\n})\nexport class AdminNotificacionesComponent implements OnInit {\n\n  public listadoAlumnos: { correo: string, nombre: string }[] = [];\n  public listadoAlumnosPaginator = new MatTableDataSource;\n  public formExcel: FormGroup;\n  public formCorreo: FormGroup;\n\n  public notificacionCausal = new NotificacionCausalModel();\n\n  @BlockUI('windowNotificacion') blockUI: NgBlockUI;\n  @ViewChild('paginatorFiltrado') paginatorFiltrado: MatPaginator;\n\n  public displayedColumns: string[] = ['idBanner', 'nombre', 'correo', 'administrativo'];\n\n  constructor(\n    private notificacionService: NotificacionService,\n    private toastr: ToastrService,\n    private paginatorIntl: MatPaginatorIntl,\n    private utilAlert: UtilAlert\n  ) { }\n\n  ngOnInit(): void {\n    this.initForms();\n\n    this.paginatorIntl.firstPageLabel = 'Primera página';\n    this.paginatorIntl.nextPageLabel = 'Siguiente página';\n    this.paginatorIntl.previousPageLabel = 'Página anterior';\n    this.paginatorIntl.lastPageLabel = 'Última página';\n    this.paginatorIntl.itemsPerPageLabel = 'Registros por página';\n  }\n\n  initForms(){\n    this.formExcel = new FormGroup({\n      file: new FormControl('')\n    })\n\n    this.formCorreo = new FormGroup({\n      asunto: new FormControl('', [Validators.required]),\n      titulo: new FormControl('', [Validators.required]),\n      cuerpo: new FormControl('', [Validators.required])\n    })\n\n  }\n\n  cargarExcel($event) {\n    this.blockUI.start(\"Cargando información...\");\n    const fileUpload: File = $event.target.files[0];\n    let formData = new FormData();\n    formData.append(\"fileUpload\", fileUpload);\n\n    this.notificacionService.cargarArchivoAlumnos(formData).subscribe(result => {\n      if(result != null || result.length != 0){\n        this.listadoAlumnos = result;\n        this.listadoAlumnosPaginator.data = result;\n        this.listadoAlumnosPaginator.paginator = this.paginatorFiltrado;\n      }\n    }, (error) => {\n      this.toastr.error(error?.error?.message);\n    })\n    this.blockUI.stop();\n  }\n\n  private setForm(){\n    this.notificacionCausal.asunto = this.formCorreo.get(\"asunto\")?.value;\n    this.notificacionCausal.titulo = this.formCorreo.get(\"titulo\")?.value;\n    this.notificacionCausal.cuerpo = this.formCorreo.get(\"cuerpo\")?.value;\n    this.notificacionCausal.listadoAlumnos = this.listadoAlumnos;\n  }\n\n  public enviarNotificacion(){\n    if(this.listadoAlumnos.length == 0 || !this.formCorreo.valid){\n      this.utilAlert.toastError(\"Debe completar el formulario de notificacion y cargar los estudiantes\");\n    } else {\n      this.setForm();\n      this.notificacionService.enviarCorreoMasivoPersonalizado(this.notificacionCausal).subscribe(result => {\n        if(result == \"ERROR\"){\n          this.utilAlert.errorSwal(\"Error al momento de enviar el correo\");\n        }else {\n          this.utilAlert.infoSwal(\"Correo enviado exitosamente.\");\n        }\n      }, (error) => {\n        this.toastr.error(error?.error?.message);\n      })\n    }\n  }\n\n  public addBreakLine(form: FormControl){\n    let text = form.value;\n    console.log(text);\n    text = text.replace(/\\./g, '\\r\\n');\n    form.setValue(text);\n\n    console.log(text);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AdminNotificacionesComponent } from './admin-notificaciones.component';\n\nconst routes: Routes = [\n  {path: '', component: AdminNotificacionesComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminNotificacionesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatTableModule } from '@angular/material/table';\nimport { BlockUIModule } from 'ng-block-ui';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n\nimport { AdminNotificacionesRoutingModule } from './admin-notificaciones-routing.module';\nimport { AdminNotificacionesComponent } from './admin-notificaciones.component';\n\n\n@NgModule({\n  declarations: [AdminNotificacionesComponent],\n  imports: [\n    CommonModule,\n    AdminNotificacionesRoutingModule,\n    BlockUIModule,\n    MatIconModule,\n    MatDialogModule,\n    FormsModule,\n    NgbModule,\n    ReactiveFormsModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatPaginatorModule,\n    MatTableModule,\n    MatStepperModule,\n    MatSelectModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatAutocompleteModule,\n    MatSlideToggleModule,\n    MatRadioModule,\n    MatCheckboxModule\n  ]\n})\nexport class AdminNotificacionesModule { }\n","import { SolicitudModel } from './solicitud-model';\nexport class NotificacionCausalModel {\n\n  public asunto: string = '';\n  public titulo: string = '';\n  public cuerpo: string = '';\n  public listadoAlumnos: {correo: string, nombre: string}[] = [];\n\n\n  constructor(fields?: {\n    asunto?: string,\n    titulo?: string,\n    cuerpo?: string,\n    listadoAlumnos?: {idBanner: string, correo: string, nombre:string, administrativo: string}[]\n  }) {\n    if (fields) { Object.assign(this, fields); }\n  }\n}\n","<body>\n    <div class=\"row\">\n        <div class=\"col-12\">\n            <h3> <strong>Notificación de Causal de Eliminación</strong> </h3>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-12\">\n            <div class=\"card card-uft\" *blockUI=\"'windowNotificacion'\">\n                <div class=\"card card-uft mt-3\">\n                    <!-- ----------------------------------------------------------------------------------- -->\n                    <div class=\"card-body\">\n                        <h3><strong>Listado de Alumnos</strong></h3>\n                        <h4 class=\"mt-4 mb-2\"><strong>Información Importante <i class=\"fa fa-question-circle\"\n                                    style=\"color:#c0c4d2\"></i></strong></h4>\n                        <h5 class=\"pr-4 mb-2\">Debe subir un archivo excel (.xlsx) con cuatro columnas: rut del alumno con guión, correo institucional, nombre del alumno y correos de escuela (separados con punto y coma en caso de ser más de uno).</h5>\n                        <br>\n                        <div class=\"row\">\n                            <form [formGroup]=\"formExcel\" enctype=\"multipart/form-data\">\n                                <input id=\"file\" formControlName=\"file\" (change)=\"cargarExcel($event)\" type=\"file\"\n                                    name=\"file\" accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"/>\n                                <label for=\"file\">Cargar archivo</label>\n                            </form>\n                            <table mat-table [dataSource]=\"listadoAlumnosPaginator\"\n                                class=\"table table-striped nowrap table-responsive-sm table-responsive-md\">\n                                <!-- Nombre Column -->\n                                <ng-container matColumnDef=\"idBanner\">\n                                    <th mat-header-cell *matHeaderCellDef> Id Banner </th>\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.idBanner}} </td>\n                                </ng-container>\n\n                                <!-- Nombre Column -->\n                                <ng-container matColumnDef=\"nombre\">\n                                    <th mat-header-cell *matHeaderCellDef> Nombre Completo </th>\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.nombre}} </td>\n                                </ng-container>\n\n                                <!-- Correo Column -->\n                                <ng-container matColumnDef=\"correo\">\n                                    <th mat-header-cell *matHeaderCellDef> Email Institucional </th>\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.correo}}\n                                    </td>\n                                </ng-container>\n\n                                <!-- Administrativo Column -->\n                                <ng-container matColumnDef=\"administrativo\">\n                                    <th mat-header-cell *matHeaderCellDef> Email Administrativo </th>\n                                    <td mat-cell *matCellDef=\"let element\"> {{element.administrativo.replace(';', ' - ')}}\n                                    </td>\n                                </ng-container>\n\n\n                                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n                                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n                                <tr class=\"mat-row\" *matNoDataRow>\n                                    <td class=\"mat-cell text-center\" [attr.colspan]=\"displayedColumns.length\">\n                                        <div class=\"text-lg text-secondary\">\n                                            No se encontraron datos\n                                        </div>\n                                    </td>\n                                </tr>\n                            </table>\n                            <mat-paginator #paginatorFiltrado=\"matPaginator\" [pageSizeOptions]=\"[5, 10, 50, 1000]\"\n                                showFirstLastButtons></mat-paginator>\n                        </div>\n\n                        <!-- ----------------------------------------------------------------------------------- -->\n                        <hr class=\"dashed justify-content-left\" style=\"border-top: 3px dashed #bbb; margin-left: 0px;\">\n                        <!-- ----------------------------------------------------------------------------------- -->\n\n                        <div class=\"row\">\n                            <div class=\"col\">\n                                <h3><strong>Configuración de la Notificación</strong></h3>\n                                <form [formGroup]=\"formCorreo\">\n                                    <div class=\"row\">\n\n                                        <div class=\"col-sm-8\">\n                                            <mat-form-field style=\"width: 80%;\">\n                                                <mat-label>Ingrese el asunto del correo.</mat-label>\n                                                <textarea matInput cdkTextareaAutosize #autosize=\"cdkTextareaAutosize\"\n                                                    style=\"font-size:14px; resize:vertical; overflow:hidden;\"\n                                                    formControlName=\"asunto\"></textarea>\n                                                <mat-hint class=\"text-danger\"\n                                                    *ngIf=\"formCorreo.controls['asunto']?.errors?.required && formCorreo.controls['asunto'].touched\">\n                                                    El campo es requerido\n                                                </mat-hint>\n                                            </mat-form-field>\n                                        </div>\n\n\n                                        <div class=\"col-sm-8\">\n                                            <mat-form-field style=\"width: 80%;\">\n                                                <mat-label>Ingrese el titulo del correo.</mat-label>\n                                                <textarea matInput cdkTextareaAutosize #autosize=\"cdkTextareaAutosize\"\n                                                    style=\"font-size:14px; resize:vertical; overflow:hidden;\"\n                                                    formControlName=\"titulo\"></textarea>\n                                                <mat-hint class=\"text-danger\"\n                                                    *ngIf=\"formCorreo.controls['titulo']?.errors?.required && formCorreo.controls['titulo'].touched\">\n                                                    El campo es requerido\n                                                </mat-hint>\n                                            </mat-form-field>\n                                        </div>\n\n\n                                        <div class=\"col-sm-8\">\n                                            <mat-form-field style=\"width: 80%;\">\n                                                <mat-label>Ingrese el cuerpo del correo.</mat-label>\n                                                <textarea matInput cdkTextareaAutosize #autosize=\"cdkTextareaAutosize\"\n                                                    style=\"font-size:14px; resize:vertical; overflow:hidden;\"\n                                                    formControlName=\"cuerpo\"></textarea>\n                                                <mat-hint class=\"text-danger\"\n                                                    *ngIf=\"formCorreo.controls['cuerpo']?.errors?.required && formCorreo.controls['cuerpo'].touched\">\n                                                    El campo es requerido\n                                                </mat-hint>\n                                            </mat-form-field>\n                                        </div>\n\n                                        <div class=\"col-sm-12\">\n                                            <button mat-stroked-button color=\"primary\" (click)=\"enviarNotificacion()\">Enviar Correo</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class=\"col\">\n                                <h3><strong>Previsualización de la Notificación</strong></h3>\n                                <h4><strong>ASUNTO: </strong>(idBanner) - {{formCorreo.controls['asunto'].value}}</h4>\n                                <div style=\"margin:0;padding:0;background-color:#fafafa\">\n\n                                    <table bgcolor=\"#fafafa\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\"\n                                        style=\"table-layout:fixed;vertical-align:top;min-width:320px;Margin:0 auto;border-spacing:0;border-collapse:collapse;background-color:#fafafa;width:100%\"\n                                        valign=\"top\" width=\"100%\">\n                                        <tbody>\n                                            <tr style=\"vertical-align:top\" valign=\"top\">\n                                                <td style=\"word-break:break-word;vertical-align:top\" valign=\"top\">\n                                                    <div style=\"padding: 10px;\"></div>\n                                                    <div\n                                                        style=\"margin:0 auto;min-width:320px;max-width:650px;word-wrap:break-word;word-break:break-word;background-color:transparent\">\n                                                        <div align=\"center\"\n                                                            style=\"padding: 30px;  background-color: #012350; border-top-left-radius: 15px; border-top-right-radius: 15px;\">\n                                                            <img align=\"center\" border=\"0\"\n                                                                src=\"https://cdn.uft.cl/img/logo-Universidad_Finis_Terrae.jpg\"\n                                                                style=\"text-decoration:none;border:0;height:auto;width:100%;max-width:650px;display:block\"\n                                                                title=\"Image\">\n                                                        </div>\n                                                    </div>\n                                                    <div style=\"background-color:transparent; \">\n                                                        <div\n                                                            style=\"Margin:0 auto;min-width:320px;max-width:650px;word-wrap:break-word;word-break:break-word;background-color:#ffffff; border-bottom-left-radius: 15px; border-bottom-right-radius: 15px;\">\n                                                            <div\n                                                                style=\"border-collapse:collapse;display:table;width:100%;background-color:#ffffff; border-bottom-left-radius: 15px; border-bottom-right-radius: 15px;\">\n                                                                <div\n                                                                    style=\"min-width:320px;max-width:650px;display:table-cell;vertical-align:top;width:650px\">\n                                                                    <div style=\"width:100%!important\">\n                                                                        <div\n                                                                            style=\"border-top:0px solid transparent;border-left:0px solid transparent;border-bottom:0px solid transparent;border-right:0px solid transparent;padding-top:20px;padding-bottom:20px;padding-right:30px;padding-left:30px; \">\n                                                                            <div\n                                                                                style=\"color:#454562;font-family:'Roboto',Tahoma,Verdana,Segoe,sans-serif;line-height:1.2;padding-top:0px;padding-right:10px;padding-bottom:0px;padding-left:10px\">\n                                                                                <p\n                                                                                    style=\"line-height:1;text-align:center;font-size:20px;font-family:'Lato',sans-serif;word-break:break-word;margin:0\">\n                                                                                    <span style=\"font-size:24px\">\n                                                                                        {{formCorreo.controls['titulo'].value}}\n                                                                                    </span>\n                                                                                </p>\n                                                                            </div>\n                                                                            <div\n                                                                                style=\"line-height:1.5;padding-top:20px;padding-right:10px;padding-bottom:15px;padding-left:10px\">\n                                                                                <p\n                                                                                    style=\"font-size: 15px; margin-bottom: 0px; font-weight: bold;\">\n                                                                                    Estimado (Nombre Alumno),\n                                                                                </p>\n                                                                                <p style=\"white-space: pre-line;\">\n                                                                                    {{formCorreo.controls['cuerpo'].value}}\n                                                                                </p>\n                                                                                <p>\n                                                                                    Para enviar su solicitud de\n                                                                                    apelación\n                                                                                    debe hacer clic en el botón que se\n                                                                                    encuentra a continuación.\n                                                                                </p>\n                                                                            </div>\n                                                                            <div align=\"center\"\n                                                                                style=\"padding-top:20px;padding-right:10px;padding-bottom:20px;padding-left:10px\">\n                                                                                <a href=\"_enlace_\"\n                                                                                    style=\"text-decoration:none;display:inline-block;color:#ffffff;background-color:#646464;border-radius:20px;width:auto;width:auto;border-top:1px solid #525252;border-right:1px solid #525252;border-bottom:1px solid #525252;border-left:1px solid #525252;padding-top:5px;padding-bottom:5px;font-family:'Lato',sans-serif;text-align:center;word-break:keep-all\"\n                                                                                    target=\"_blank\">\n                                                                                    <span\n                                                                                        style=\"font-size:16px;line-height:2;word-break:break-word;padding-left:50px;padding-right:50px;font-size:16px;display:inline-block\"><strong>\n                                                                                            Envíar Solicitud\n                                                                                        </strong>\n                                                                                    </span>\n                                                                                </a>\n                                                                            </div>\n                                                                            <div\n                                                                                style=\"line-height:1.5;padding-top:0px;padding-right:10px;padding-bottom:15px;padding-left:10px\">\n                                                                                Recuerda que puedes revisar el estado de\n                                                                                las solicitudes recepcionadas en la\n                                                                                seccion Solicitudes.\n                                                                            </div>\n                                                                        </div>\n                                                                        <div\n                                                                            style=\"border-bottom-left-radius: 15px; padding-top:20px; padding-bottom:20px;padding-left:10px; padding-right:10px;border-bottom-right-radius: 15px;background:#012350;border-spacing:0;border:0\">\n                                                                            <div style=\"width:100%;text-align:left\">\n                                                                                <p\n                                                                                    style=\"font-family:'Lato',sans-serif;font-size:11px;color:#ffffff;text-align:center;line-height:14px\">\n                                                                                    Universidad Finis Terrae - Av. Pedro\n                                                                                    de Valdivia 1509,\n                                                                                    Providencia, Regi&oacute;n\n                                                                                    Metropolitana\n                                                                                </p>\n                                                                                <p\n                                                                                    style=\"font-family:'Lato',sans-serif;font-size:12px;color:#ffffff;text-align:center;line-height:14px; margin-bottom: 0px;\">\n                                                                                    Este mensaje fue generado\n                                                                                    automaticamente favor\n                                                                                    <strong>NO RESPONDER</strong>.\n                                                                                </p>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div style=\"padding: 10px;\"></div>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</body>"],"sourceRoot":"webpack:///"}