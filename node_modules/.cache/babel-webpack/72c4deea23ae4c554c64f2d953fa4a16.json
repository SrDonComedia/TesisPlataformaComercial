{"ast":null,"code":"\"use strict\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@angular/core\");\n\nvar PasswordStrengthBarComponent = function () {\n  function PasswordStrengthBarComponent() {\n    this.onStrengthChanged = new core_1.EventEmitter();\n    this.defaultColors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\n    this.defaultBaseColor = '#DDD';\n    this.colors = this.defaultColors;\n  }\n\n  PasswordStrengthBarComponent_1 = PasswordStrengthBarComponent;\n\n  PasswordStrengthBarComponent.prototype.checkBarColors = function () {\n    if (this.barColors && this.barColors.length === 5) {\n      this.colors = this.barColors.slice();\n    } else {\n      this.colors = this.defaultColors;\n    }\n\n    this.strengths = this.strengthLabels && this.strengthLabels.length === 5 ? this.strengthLabels.slice() : null;\n    this.setStrengthLabel(0);\n\n    if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.baseColor)) {\n      this.baseColor = this.defaultBaseColor;\n    }\n  };\n\n  PasswordStrengthBarComponent.measureStrength = function (pass) {\n    var score = 0;\n    var letters = {};\n\n    for (var i = 0; i < pass.length; i++) {\n      letters[pass[i]] = (letters[pass[i]] || 0) + 1;\n      score += 5.0 / letters[pass[i]];\n    }\n\n    var variations = {\n      digits: /\\d/.test(pass),\n      lower: /[a-z]/.test(pass),\n      upper: /[A-Z]/.test(pass),\n      nonWords: /\\W/.test(pass)\n    };\n    var variationCount = 0;\n\n    for (var check in variations) {\n      variationCount += variations[check] ? 1 : 0;\n    }\n\n    score += (variationCount - 1) * 10;\n    return Math.trunc(score);\n  };\n\n  PasswordStrengthBarComponent.prototype.getColor = function (score) {\n    var idx = 0;\n\n    if (score > 90) {\n      idx = 4;\n    } else if (score > 70) {\n      idx = 3;\n    } else if (score >= 40) {\n      idx = 2;\n    } else if (score >= 20) {\n      idx = 1;\n    }\n\n    return {\n      idx: idx + 1,\n      col: this.colors[idx]\n    };\n  };\n\n  PasswordStrengthBarComponent.prototype.getStrengthIndexAndColor = function (password) {\n    return this.getColor(PasswordStrengthBarComponent_1.measureStrength(password));\n  };\n\n  PasswordStrengthBarComponent.prototype.ngOnChanges = function (changes) {\n    if (!changes['passwordToCheck']) {\n      return;\n    }\n\n    var password = changes['passwordToCheck'].currentValue;\n    this.checkBarColors();\n    this.setBarColors(5, this.baseColor);\n    var strength = 0;\n\n    if (password) {\n      var c = this.getStrengthIndexAndColor(password);\n      strength = c.idx - 1;\n      this.setStrengthLabel(strength);\n      this.setBarColors(c.idx, c.col);\n    }\n\n    this.onStrengthChanged.emit(strength);\n  };\n\n  PasswordStrengthBarComponent.prototype.setBarColors = function (count, col) {\n    for (var _n = 0; _n < count; _n++) {\n      this['bar' + _n] = col;\n    }\n  };\n\n  PasswordStrengthBarComponent.prototype.setStrengthLabel = function (index) {\n    if (this.strengths) {\n      this.strengthLabel = this.strengths[index];\n    }\n  };\n\n  var PasswordStrengthBarComponent_1;\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", String)], PasswordStrengthBarComponent.prototype, \"passwordToCheck\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", String)], PasswordStrengthBarComponent.prototype, \"barLabel\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Array)], PasswordStrengthBarComponent.prototype, \"barColors\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", String)], PasswordStrengthBarComponent.prototype, \"baseColor\", void 0);\n\n  __decorate([core_1.Input(), __metadata(\"design:type\", Array)], PasswordStrengthBarComponent.prototype, \"strengthLabels\", void 0);\n\n  __decorate([core_1.Output(), __metadata(\"design:type\", core_1.EventEmitter)], PasswordStrengthBarComponent.prototype, \"onStrengthChanged\", void 0);\n\n  PasswordStrengthBarComponent = PasswordStrengthBarComponent_1 = __decorate([core_1.Component({\n    selector: 'ng2-password-strength-bar',\n    styles: [\"\\n    .strengthBar {\\n      display: inline;\\n      list-style: none;\\n      margin: 0 0 0 15px;\\n      padding: 0;\\n      vertical-align: 2px;\\n    }\\n\\n    .strengthBar .point {\\n      background: #DDD;\\n      border-radius: 2px;\\n      display: inline-block;\\n      height: 5px;\\n      margin-right: 1px;\\n      width: 20px;\\n    }\\n\\n    .strengthBar .point:last-child {\\n      margin: 0;\\n    }\\n    .pre {\\n      white-space: pre;\\n    }\\n  \"],\n    template: \"\\n    <div id=\\\"strength\\\" #strength>\\n      <small>{{barLabel}}</small>\\n      <ul id=\\\"strengthBar\\\" class=\\\"strengthBar\\\">\\n        <li id=\\\"bar0\\\" class=\\\"point\\\" [style.background-color]=\\\"bar0\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar1\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar2\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar3\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar4\\\"></li>\\n      </ul>\\n      <small [hidden]=\\\"!strengths\\\" class=\\\"pre\\\">  {{strengthLabel}}</small>\\n    </div>\\n  \"\n  }), __metadata(\"design:paramtypes\", [])], PasswordStrengthBarComponent);\n  return PasswordStrengthBarComponent;\n}();\n\nexports.PasswordStrengthBarComponent = PasswordStrengthBarComponent;","map":{"version":3,"sources":["../src/passwordStrengthBar.component.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar PasswordStrengthBarComponent = (function () {\n    function PasswordStrengthBarComponent() {\n        this.onStrengthChanged = new core_1.EventEmitter();\n        this.defaultColors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\n        this.defaultBaseColor = '#DDD';\n        this.colors = this.defaultColors;\n    }\n    PasswordStrengthBarComponent_1 = PasswordStrengthBarComponent;\n    PasswordStrengthBarComponent.prototype.checkBarColors = function () {\n        if (this.barColors && this.barColors.length === 5) {\n            this.colors = this.barColors.slice();\n        }\n        else {\n            this.colors = this.defaultColors;\n        }\n        this.strengths = this.strengthLabels && this.strengthLabels.length === 5 ? this.strengthLabels.slice() : null;\n        this.setStrengthLabel(0);\n        if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.baseColor)) {\n            this.baseColor = this.defaultBaseColor;\n        }\n    };\n    PasswordStrengthBarComponent.measureStrength = function (pass) {\n        var score = 0;\n        var letters = {};\n        for (var i = 0; i < pass.length; i++) {\n            letters[pass[i]] = (letters[pass[i]] || 0) + 1;\n            score += 5.0 / letters[pass[i]];\n        }\n        var variations = {\n            digits: /\\d/.test(pass),\n            lower: /[a-z]/.test(pass),\n            upper: /[A-Z]/.test(pass),\n            nonWords: /\\W/.test(pass),\n        };\n        var variationCount = 0;\n        for (var check in variations) {\n            variationCount += (variations[check]) ? 1 : 0;\n        }\n        score += (variationCount - 1) * 10;\n        return Math.trunc(score);\n    };\n    PasswordStrengthBarComponent.prototype.getColor = function (score) {\n        var idx = 0;\n        if (score > 90) {\n            idx = 4;\n        }\n        else if (score > 70) {\n            idx = 3;\n        }\n        else if (score >= 40) {\n            idx = 2;\n        }\n        else if (score >= 20) {\n            idx = 1;\n        }\n        return {\n            idx: idx + 1,\n            col: this.colors[idx]\n        };\n    };\n    PasswordStrengthBarComponent.prototype.getStrengthIndexAndColor = function (password) {\n        return this.getColor(PasswordStrengthBarComponent_1.measureStrength(password));\n    };\n    PasswordStrengthBarComponent.prototype.ngOnChanges = function (changes) {\n        if (!changes['passwordToCheck']) {\n            return;\n        }\n        var password = changes['passwordToCheck'].currentValue;\n        this.checkBarColors();\n        this.setBarColors(5, this.baseColor);\n        var strength = 0;\n        if (password) {\n            var c = this.getStrengthIndexAndColor(password);\n            strength = c.idx - 1;\n            this.setStrengthLabel(strength);\n            this.setBarColors(c.idx, c.col);\n        }\n        this.onStrengthChanged.emit(strength);\n    };\n    PasswordStrengthBarComponent.prototype.setBarColors = function (count, col) {\n        for (var _n = 0; _n < count; _n++) {\n            this['bar' + _n] = col;\n        }\n    };\n    PasswordStrengthBarComponent.prototype.setStrengthLabel = function (index) {\n        if (this.strengths) {\n            this.strengthLabel = this.strengths[index];\n        }\n    };\n    var PasswordStrengthBarComponent_1;\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], PasswordStrengthBarComponent.prototype, \"passwordToCheck\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], PasswordStrengthBarComponent.prototype, \"barLabel\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], PasswordStrengthBarComponent.prototype, \"barColors\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", String)\n    ], PasswordStrengthBarComponent.prototype, \"baseColor\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], PasswordStrengthBarComponent.prototype, \"strengthLabels\", void 0);\n    __decorate([\n        core_1.Output(),\n        __metadata(\"design:type\", core_1.EventEmitter)\n    ], PasswordStrengthBarComponent.prototype, \"onStrengthChanged\", void 0);\n    PasswordStrengthBarComponent = PasswordStrengthBarComponent_1 = __decorate([\n        core_1.Component({\n            selector: 'ng2-password-strength-bar',\n            styles: [\"\\n    .strengthBar {\\n      display: inline;\\n      list-style: none;\\n      margin: 0 0 0 15px;\\n      padding: 0;\\n      vertical-align: 2px;\\n    }\\n\\n    .strengthBar .point {\\n      background: #DDD;\\n      border-radius: 2px;\\n      display: inline-block;\\n      height: 5px;\\n      margin-right: 1px;\\n      width: 20px;\\n    }\\n\\n    .strengthBar .point:last-child {\\n      margin: 0;\\n    }\\n    .pre {\\n      white-space: pre;\\n    }\\n  \"],\n            template: \"\\n    <div id=\\\"strength\\\" #strength>\\n      <small>{{barLabel}}</small>\\n      <ul id=\\\"strengthBar\\\" class=\\\"strengthBar\\\">\\n        <li id=\\\"bar0\\\" class=\\\"point\\\" [style.background-color]=\\\"bar0\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar1\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar2\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar3\\\"></li>\\n        <li class=\\\"point\\\" [style.background-color]=\\\"bar4\\\"></li>\\n      </ul>\\n      <small [hidden]=\\\"!strengths\\\" class=\\\"pre\\\">  {{strengthLabel}}</small>\\n    </div>\\n  \"\n        }),\n        __metadata(\"design:paramtypes\", [])\n    ], PasswordStrengthBarComponent);\n    return PasswordStrengthBarComponent;\n}());\nexports.PasswordStrengthBarComponent = PasswordStrengthBarComponent;\n//# sourceMappingURL=passwordStrengthBar.component.js.map"]},"metadata":{},"sourceType":"script"}