{"version":3,"sources":["./src/app/paginas/mantenedores/config-periodo/config-periodo.module.ts","./src/app/paginas/mantenedores/config-periodo/config-periodo.component.ts","./src/app/paginas/mantenedores/config-periodo/config-periodo-routing.module.ts","./src/app/paginas/mantenedores/config-periodo/config-periodo.component.html"],"names":[],"mappings":"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","file":"paginas-mantenedores-config-periodo-config-periodo-module-ngfactory.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CommonsModule } from 'src/app/commons/commons.module';\nimport { BlockUIModule } from 'ng-block-ui';\nimport { NgbModule, NgbCollapseModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatRadioModule } from \"@angular/material/radio\";\nimport { MatDatepickerModule } from \"@angular/material/datepicker\";\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { ConfigPeriodoRoutingModule } from './config-periodo-routing.module';\nimport { ConfigPeriodoComponent } from './config-periodo.component';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\n\n\n\n@NgModule({\n  declarations: [ConfigPeriodoComponent],\n  imports: [\n    CommonModule,\n    CommonsModule,\n    ConfigPeriodoRoutingModule,\n    NgbModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgbCollapseModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatRadioModule,\n    MatDatepickerModule,\n    MatProgressSpinnerModule,\n    MatTooltipModule,\n    MatDialogModule,\n    MatSlideToggleModule,\n    BlockUIModule,\n    NgxDropzoneModule,\n    MatNativeDateModule,\n    MatCheckboxModule\n  ]\n})\nexport class ConfigPeriodoModule { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { BlockUI, NgBlockUI } from 'ng-block-ui';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subscription } from 'rxjs';\nimport { AppService } from 'src/app/app.service';\nimport { SearchPagination } from 'src/app/commons/interfaces/search.pagination';\nimport { PeriodoModel } from 'src/app/commons/models/gestion-academica/periodo.model';\nimport { UtilAlert } from 'src/app/commons/util/util.alert';\nimport { UtilValidation } from 'src/app/commons/util/util.validation';\nimport { getPeriodos, guardarPeriodo, paginationPeriodo, resetPeriodo } from 'src/app/store/actions/periodo.actions';\nimport { AppState } from 'src/app/store/app.reducer';\n\n@Component({\n  selector: 'app-config-periodo',\n  templateUrl: './config-periodo.component.html',\n  styles: [\n  ]\n})\nexport class ConfigPeriodoComponent implements OnInit, OnDestroy {\n\n  public formPeriodo: FormGroup;\n  private _subscriptionPeriodo: Subscription;\n  public listaPeriodos: PeriodoModel[];\n  public loaded: boolean = false;\n  public loading: boolean = false;\n  public periodo: PeriodoModel = new PeriodoModel();\n  public edit: boolean = false;\n  @BlockUI() blockUI: NgBlockUI;\n\n  //-----------\n  public page: number = 1;\n  public pageSize: number = 10;\n  public totalElements: number;\n\n  constructor(\n    private appService: AppService,\n    public toastr: ToastrService,\n    public store: Store<AppState>,\n    public alertService: UtilAlert,\n  ) {\n    this.appService.pageTitle = 'Mantenedor de Periodos';\n\n  }\n\n  ngOnInit(): void {\n    this._resolucionState();\n    this.crearPeriodo()\n    this.listarPeriodos();\n  }\n  ngOnDestroy(): void {\n    this._subscriptionPeriodo.unsubscribe();\n  }\n\n  private _resolucionState() {\n    this._subscriptionPeriodo = this.store.select(\"periodo\").subscribe(\n      (state) => {\n        if (state.searchPagination != null) {\n          this.page = state.searchPagination.page;\n          this.pageSize = state.searchPagination.records;\n\n        }\n        if (state.loaded && state.paginacionPeriodo) {\n          this.loaded = state.loaded\n          this.listaPeriodos = state.paginacionPeriodo.content;\n          this.totalElements = state.paginacionPeriodo.totalElements;\n          this.blockUI.stop();\n        }\n\n        if (state.periodo && state.loaded) {\n          this.edit ? this.alertService.successSwal(`Se ha editado correctamente el periodo`) : this.alertService.successSwal(`Se ha registrado correctamente el periodo`);\n          this.store.dispatch(resetPeriodo());\n          this.edit = false;\n          this.listarPeriodos();\n          this.blockUI.stop()\n        }\n      }\n    );\n  }\n\n  crearPeriodo() {\n    this.formPeriodo = new FormGroup({\n      activo: new FormControl(\"true\"),\n      codigo: new FormControl(null, [Validators.required, Validators.maxLength(6), Validators.min(0)]),\n      descripcion: new FormControl(null, [Validators.required]),\n    });\n  }\n\n  listarPeriodos() {\n    this.listaPeriodos = [];\n    const searchPagination: SearchPagination<string> = {\n      page: this.page,\n      records: this.pageSize,\n      seek: \"\",\n    };\n    this.blockUI.start(\"Cargando...\");\n    this.store.dispatch(paginationPeriodo({ searchPagination })\n    );\n  }\n\n  formularioReset() {\n    this.formPeriodo.get(\"codigo\").setValue(null);\n    this.formPeriodo.get(\"descripcion\").setValue(null);\n    this.formPeriodo.get(\"activo\").setValue(true);\n    this.formPeriodo.get(\"codigo\").markAsUntouched();\n    this.formPeriodo.get(\"descripcion\").markAsUntouched();\n  }\n\n  obtenerPeriodo() {\n    if (this.formPeriodo.valid) {\n      // this.periodo.activo = this.formPeriodo.get(\"activo\").value;\n      this.periodo.codigo = this.formPeriodo.get(\"codigo\").value;\n      this.periodo.nombre = this.formPeriodo.get(\"descripcion\").value;\n    } else {\n      this.toastr.error(\"Se deben Completar todos los campos obligatorios\");\n    }\n  }\n\n  guardar(editar: boolean = false) {\n    UtilValidation.setFormForValidate(this.formPeriodo);\n    if (this.formPeriodo.invalid) {\n      this.toastr.info(\"Debe ingresar todos los datos antes de guardar\");\n      return;\n    }\n    this.obtenerPeriodo();\n    this.blockUI.start(\"Guardando\");\n    this.loading = true;\n    console.log(this.periodo)\n    this.store.dispatch(guardarPeriodo({ periodo: this.periodo }))\n  }\n\n  editar(periodo: PeriodoModel) {\n    this.edit = true;\n    this.store.dispatch(guardarPeriodo({ periodo: periodo }));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConfigPeriodoComponent } from './config-periodo.component';\n\n\nconst routes: Routes = [\n  { path: '', component: ConfigPeriodoComponent },\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConfigPeriodoRoutingModule { }\n","<block-ui></block-ui>\n<div class=\"row\">\n    <div class=\"col-12\">\n        <h3> <strong> Mantenedor de Periodos</strong> </h3>\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-12\">\n        <div class=\"card card-uft\">\n            <div class=\"card card-uft mt-3\">\n                <div class=\"row text-center\">\n                    <!-- ------------------------------------------------------ -->\n                    <div class=\"col-sm-12 col-md-6 col-lg-3\">\n                        <mat-form-field style=\"width:80%\">\n                            <mat-label>Registros</mat-label>\n                            <mat-select [disableOptionCentering]=\"true\" [(value)]=\"pageSize\"\n                                (selectionChange)=\"listarPeriodos()\">\n                                <mat-option value=\"10\">10 Registros</mat-option>\n                                <mat-option value=\"15\">15 Registros</mat-option>\n                                <mat-option value=\"25\">25 Registros</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-12 col-md-4 ml-auto mr-auto mt-3 pt-1\">\n                            <table\n                                class=\"table table-bordered nowrap table-responsive-sm table-responsive-md text-center\">\n                                <thead>\n                                    <tr>\n                                        <th>Codigo</th>\n                                        <th>Descripcion</th>\n                                        <th>Estado </th>\n                                        <th></th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <td colspan=\"100%\" class=\"text-center py-5\" *ngIf=\"!loaded\">\n                                        <div class=\"spinner-grow spinner-grow-sm text-success\">\n                                        </div>\n                                        <span class=\"text-success\">Cargando Periodos. Espere un momento...</span>\n                                    </td>\n                                    <td colspan=\"100%\" class=\"text-center py-5\"\n                                        *ngIf=\"listaPeriodos && listaPeriodos.length == 0 && loaded\">\n                                        <span>Actualmente no existen Periodos. Crea el primero!</span>\n                                    </td>\n                                </tbody>\n                                <tbody *ngIf=\"loaded\">\n                                    <tr *ngFor=\"let periodo of listaPeriodos\">\n                                        <td>{{periodo.codigo}}</td>\n                                        <td>{{periodo.nombre}}</td>\n                                        <td *ngIf=\"periodo.activo\">\n                                            <span class=\"badge rounded-pill bg-success\"\n                                                style=\"color:white;\">Activo</span>\n                                        </td>\n                                        <td *ngIf=\"!periodo.activo\">\n                                            <span class=\"badge rounded-pill bg-danger\"\n                                                style=\"color:white;\">Inactivo</span>\n                                        </td>\n                                        <td *ngIf=\"periodo.activo\"><button class=\"btn btn-sm btn-danger\"\n                                                (click)=\"editar(periodo)\">\n                                                DESACTIVAR</button></td>\n                                        <td *ngIf=\"!periodo.activo\"><button class=\"btn btn-sm btn-success\"\n                                                (click)=\"editar(periodo)\">\n                                                ACTIVAR</button></td>\n\n                                    </tr>\n                                </tbody>\n                            </table>\n                            <div class=\"card-body card-pagination\"\n                                style=\"justify-content:center !important; display:flex !important;\">\n                                <div class=\"card-body card-pagination\"\n                                    style=\"justify-content:center !important; display:flex !important;\">\n                                    <ngb-pagination *ngIf=\" listaPeriodos?.length < totalElements\" [(page)]=\"page\"\n                                        [pageSize]=\"pageSize\" (pageChange)=\"listarPeriodos()\"\n                                        [collectionSize]=\"totalElements\" [maxSize]=\"5\" [rotate]=\"true\"\n                                        [boundaryLinks]=\"true\">\n                                    </ngb-pagination>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm-12 col-md-4 ml-auto mr-auto mt-3 pt-1\">\n                            <form [formGroup]=\"formPeriodo\">\n                                <div class=\"card\">\n                                    <div class=\"card-header\">\n                                        <h3>Nuevo Periodo</h3>\n                                    </div>\n                                    <ul class=\"list-group list-group-flush\">\n                                        <li class=\"list-group-item\">\n                                            <mat-form-field>\n                                                <input matInput type=\"number\" placeholder=\"Codigo\"\n                                                    formControlName=\"codigo\" autocomplete=\"off\" />\n                                            </mat-form-field>\n                                            <mat-form-field>\n                                                <input matInput placeholder=\"Descripcion\" formControlName=\"descripcion\"\n                                                    autocomplete=\"off\" />\n                                            </mat-form-field>\n                                            <mat-checkbox class=\"pl-2\" color=\"primary\" formControlName=\"activo\">\n                                                &nbsp;&nbsp;Activo\n                                            </mat-checkbox>\n                                            <div class=\"row\">\n                                                <div class=\"col-xl-6 col-lg-12 col-sm-6 col-md-12\">\n                                                    <button class=\"btn btn-danger btn-block mt-3\"\n                                                        (click)=\"formularioReset()\">\n                                                        <span>limpiar</span>\n                                                    </button>\n                                                </div>\n                                                <div class=\"col-xl-6 col-lg-12 col-sm-6 col-md-12\">\n                                                    <button [ngClass]=\"{ 'px-2': loading }\"\n                                                        class=\"btn btn-primary btn-block mt-3\" (click)=\"guardar()\">\n                                                        <span *ngIf=\"loading\"\n                                                            class=\"mr-2 spinner-border spinner-border-sm\"></span>\n                                                        <span *ngIf=\"loading\">guardando</span>\n                                                        <span *ngIf=\"!loading\">guardar</span>\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <!---->\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"],"sourceRoot":"webpack:///"}